<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Python面向对象的那些事 | 上校的玩具间</title>
    <meta name="generator" content="VuePress 1.9.5">
    
    <meta name="description" content="坐而言不如起而行。js,java,vue,Spring,html5,Node,git,github,CodeQL等技术文章。">
    
    <link rel="preload" href="/assets/css/0.styles.55d26f3f.css" as="style"><link rel="preload" href="/assets/js/app.cc096181.js" as="script"><link rel="preload" href="/assets/js/2.5dee0ed7.js" as="script"><link rel="preload" href="/assets/js/52.4bdda958.js" as="script"><link rel="prefetch" href="/assets/js/10.c62e6ba0.js"><link rel="prefetch" href="/assets/js/11.a2442b49.js"><link rel="prefetch" href="/assets/js/12.08da015b.js"><link rel="prefetch" href="/assets/js/13.c990750d.js"><link rel="prefetch" href="/assets/js/14.caf4037b.js"><link rel="prefetch" href="/assets/js/15.052ffcdb.js"><link rel="prefetch" href="/assets/js/16.601483d2.js"><link rel="prefetch" href="/assets/js/17.78753bd0.js"><link rel="prefetch" href="/assets/js/18.8265a3db.js"><link rel="prefetch" href="/assets/js/19.c71deec5.js"><link rel="prefetch" href="/assets/js/20.3dc6ddb8.js"><link rel="prefetch" href="/assets/js/21.18547e0f.js"><link rel="prefetch" href="/assets/js/22.a3431622.js"><link rel="prefetch" href="/assets/js/23.91fc9bba.js"><link rel="prefetch" href="/assets/js/24.e18e54c5.js"><link rel="prefetch" href="/assets/js/25.776bb8aa.js"><link rel="prefetch" href="/assets/js/26.89a4c751.js"><link rel="prefetch" href="/assets/js/27.833d6eeb.js"><link rel="prefetch" href="/assets/js/28.7705d981.js"><link rel="prefetch" href="/assets/js/29.a043ebe1.js"><link rel="prefetch" href="/assets/js/3.949795aa.js"><link rel="prefetch" href="/assets/js/30.68a4dd93.js"><link rel="prefetch" href="/assets/js/31.0e5c8b84.js"><link rel="prefetch" href="/assets/js/32.fac4fa2c.js"><link rel="prefetch" href="/assets/js/33.8427560a.js"><link rel="prefetch" href="/assets/js/34.fc07cf5a.js"><link rel="prefetch" href="/assets/js/35.79ddcc93.js"><link rel="prefetch" href="/assets/js/36.e9e31113.js"><link rel="prefetch" href="/assets/js/37.7376d7c9.js"><link rel="prefetch" href="/assets/js/38.67d4abcf.js"><link rel="prefetch" href="/assets/js/39.287d22c4.js"><link rel="prefetch" href="/assets/js/4.362b37b2.js"><link rel="prefetch" href="/assets/js/40.5144274a.js"><link rel="prefetch" href="/assets/js/41.a055f9e8.js"><link rel="prefetch" href="/assets/js/42.1a857a3b.js"><link rel="prefetch" href="/assets/js/43.4c4532d1.js"><link rel="prefetch" href="/assets/js/44.9768cf32.js"><link rel="prefetch" href="/assets/js/45.31810108.js"><link rel="prefetch" href="/assets/js/46.d5c9957a.js"><link rel="prefetch" href="/assets/js/47.8503638e.js"><link rel="prefetch" href="/assets/js/48.89c8fe11.js"><link rel="prefetch" href="/assets/js/49.8e42420e.js"><link rel="prefetch" href="/assets/js/5.9a721ad4.js"><link rel="prefetch" href="/assets/js/50.2c59a9d3.js"><link rel="prefetch" href="/assets/js/51.4e8c6245.js"><link rel="prefetch" href="/assets/js/53.f4d3ebb7.js"><link rel="prefetch" href="/assets/js/54.8c9ef8ef.js"><link rel="prefetch" href="/assets/js/55.55e9ad2d.js"><link rel="prefetch" href="/assets/js/56.f3bb01b2.js"><link rel="prefetch" href="/assets/js/57.974fc40b.js"><link rel="prefetch" href="/assets/js/58.cceff5ff.js"><link rel="prefetch" href="/assets/js/59.17316a40.js"><link rel="prefetch" href="/assets/js/6.ec7467fe.js"><link rel="prefetch" href="/assets/js/60.d52cb7bf.js"><link rel="prefetch" href="/assets/js/61.4f998d76.js"><link rel="prefetch" href="/assets/js/62.4090d670.js"><link rel="prefetch" href="/assets/js/63.ae02f421.js"><link rel="prefetch" href="/assets/js/64.67620b73.js"><link rel="prefetch" href="/assets/js/65.a7664222.js"><link rel="prefetch" href="/assets/js/66.68203f8e.js"><link rel="prefetch" href="/assets/js/67.24a623b2.js"><link rel="prefetch" href="/assets/js/68.0eb87a07.js"><link rel="prefetch" href="/assets/js/69.cc0a2061.js"><link rel="prefetch" href="/assets/js/7.79257635.js"><link rel="prefetch" href="/assets/js/70.99ed2497.js"><link rel="prefetch" href="/assets/js/71.a0cb4c42.js"><link rel="prefetch" href="/assets/js/8.d2115d3f.js"><link rel="prefetch" href="/assets/js/9.67223949.js">
    <link rel="stylesheet" href="/assets/css/0.styles.55d26f3f.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu have-body-img"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="https://wiki-1251603812.cos.ap-shanghai.myqcloud.com/images/logo.png" alt="上校的玩具间" class="logo"> <span class="site-name can-hide">上校的玩具间</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="开发" class="dropdown-title"><a href="/dev/" class="link-title">开发</a> <span class="title" style="display:none;">开发</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>前端</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/dev/web/" class="nav-link">前端目录</a></li><li class="dropdown-subitem"><a href="/dev/web/basis/htmlandcss/" class="nav-link">HTML/CSS基础</a></li></ul></li><li class="dropdown-item"><h4>后端</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/dev/java/" class="nav-link">Java后端</a></li><li class="dropdown-subitem"><a href="/dev/java/core/spring5/" class="nav-link">Spring</a></li><li class="dropdown-subitem"><a href="/dev/java/core/mybatis/" class="nav-link">Mybatis</a></li><li class="dropdown-subitem"><a href="/dev/java/core/springmvc/" class="nav-link">SpringMVC</a></li><li class="dropdown-subitem"><a href="/dev/java/core/springbootbase/" class="nav-link">Springboot基础篇</a></li><li class="dropdown-subitem"><a href="/dev/java/eco/docker/" class="nav-link">Docker</a></li></ul></li><li class="dropdown-item"><!----> <a href="/dev/basic/" class="nav-link">计算机基础</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="安全" class="dropdown-title"><a href="/sec/" class="link-title router-link-active">安全</a> <span class="title" style="display:none;">安全</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/sec/sa/" class="nav-link">静态分析</a></li><li class="dropdown-item"><!----> <a href="/sec/vuln/" class="nav-link">漏洞原理</a></li><li class="dropdown-item"><!----> <a href="/sec/dev/" class="nav-link router-link-active">安全开发</a></li></ul></div></div><div class="nav-item"><a href="/life/" class="nav-link">生活</a></div><div class="nav-item"><a href="/navigation/" class="nav-link">站点导航</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="更多" class="dropdown-title"><a href="/more/" class="link-title">更多</a> <span class="title" style="display:none;">更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">归档</a></li><li class="dropdown-item"><!----> <a href="/about/" class="nav-link">关于</a></li><li class="dropdown-item"><!----> <a href="/more/blog/" class="nav-link">博客搭建</a></li></ul></div></div><div class="nav-item"><a href="https://travellings.link/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Travelling
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="https://wiki-1251603812.cos.ap-shanghai.myqcloud.com/images/avatar.jpg"> <div class="blogger-info"><h3>p0jo</h3> <span>欲变世界，先变自己。</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="开发" class="dropdown-title"><a href="/dev/" class="link-title">开发</a> <span class="title" style="display:none;">开发</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>前端</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/dev/web/" class="nav-link">前端目录</a></li><li class="dropdown-subitem"><a href="/dev/web/basis/htmlandcss/" class="nav-link">HTML/CSS基础</a></li></ul></li><li class="dropdown-item"><h4>后端</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/dev/java/" class="nav-link">Java后端</a></li><li class="dropdown-subitem"><a href="/dev/java/core/spring5/" class="nav-link">Spring</a></li><li class="dropdown-subitem"><a href="/dev/java/core/mybatis/" class="nav-link">Mybatis</a></li><li class="dropdown-subitem"><a href="/dev/java/core/springmvc/" class="nav-link">SpringMVC</a></li><li class="dropdown-subitem"><a href="/dev/java/core/springbootbase/" class="nav-link">Springboot基础篇</a></li><li class="dropdown-subitem"><a href="/dev/java/eco/docker/" class="nav-link">Docker</a></li></ul></li><li class="dropdown-item"><!----> <a href="/dev/basic/" class="nav-link">计算机基础</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="安全" class="dropdown-title"><a href="/sec/" class="link-title router-link-active">安全</a> <span class="title" style="display:none;">安全</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/sec/sa/" class="nav-link">静态分析</a></li><li class="dropdown-item"><!----> <a href="/sec/vuln/" class="nav-link">漏洞原理</a></li><li class="dropdown-item"><!----> <a href="/sec/dev/" class="nav-link router-link-active">安全开发</a></li></ul></div></div><div class="nav-item"><a href="/life/" class="nav-link">生活</a></div><div class="nav-item"><a href="/navigation/" class="nav-link">站点导航</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="更多" class="dropdown-title"><a href="/more/" class="link-title">更多</a> <span class="title" style="display:none;">更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">归档</a></li><li class="dropdown-item"><!----> <a href="/about/" class="nav-link">关于</a></li><li class="dropdown-item"><!----> <a href="/more/blog/" class="nav-link">博客搭建</a></li></ul></div></div><div class="nav-item"><a href="https://travellings.link/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Travelling
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>静态分析</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>漏洞原理</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>安全开发</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>Python</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/sec/dev/python/pystring/" class="sidebar-link">Python字符串的那些事</a></li><li><a href="/sec/dev/python/sequence/" class="sidebar-link">Python序列的那些事</a></li><li><a href="/sec/dev/python/process/" class="sidebar-link">Python流程控制的那些事</a></li><li><a href="/sec/dev/python/func/" class="sidebar-link">Python函数的小秘密</a></li><li><a href="/sec/dev/python/oop/" aria-current="page" class="active sidebar-link">Python面向对象的那些事</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/sec/dev/python/oop/#面向对象简介" class="sidebar-link">面向对象简介</a></li><li class="sidebar-sub-header level2"><a href="/sec/dev/python/oop/#类" class="sidebar-link">类</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/sec/dev/python/oop/#init-构造方法和-new-方法" class="sidebar-link">__init__构造方法和__new__方法</a></li><li class="sidebar-sub-header level3"><a href="/sec/dev/python/oop/#实例属性和实例方法" class="sidebar-link">实例属性和实例方法</a></li><li class="sidebar-sub-header level3"><a href="/sec/dev/python/oop/#类对象、类属性、类方法、静态方法" class="sidebar-link">类对象、类属性、类方法、静态方法</a></li><li class="sidebar-sub-header level3"><a href="/sec/dev/python/oop/#del-方法和垃圾回收" class="sidebar-link">__del__方法和垃圾回收</a></li><li class="sidebar-sub-header level3"><a href="/sec/dev/python/oop/#call-方法和可调用对象" class="sidebar-link">__call__方法和可调用对象</a></li><li class="sidebar-sub-header level3"><a href="/sec/dev/python/oop/#方法重载" class="sidebar-link">方法重载</a></li><li class="sidebar-sub-header level3"><a href="/sec/dev/python/oop/#方法的动态性" class="sidebar-link">方法的动态性</a></li><li class="sidebar-sub-header level3"><a href="/sec/dev/python/oop/#私有属性和私有方法" class="sidebar-link">私有属性和私有方法</a></li><li class="sidebar-sub-header level3"><a href="/sec/dev/python/oop/#property装饰器" class="sidebar-link">@property装饰器</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/sec/dev/python/oop/#面向对象的三大特征" class="sidebar-link">面向对象的三大特征</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/sec/dev/python/oop/#继承" class="sidebar-link">继承</a></li><li class="sidebar-sub-header level3"><a href="/sec/dev/python/oop/#多态" class="sidebar-link">多态</a></li></ul></li></ul></li><li><a href="/sec/dev/python/exception/" class="sidebar-link">Python异常处理的那些事</a></li><li><a href="/sec/dev/python/file/" class="sidebar-link">Python文件操作的那些事</a></li><li><a href="/sec/dev/python/module/" class="sidebar-link">Python模块化的那些事</a></li><li><a href="/sec/dev/python/thread/" class="sidebar-link">Python多线程的那些事</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Go</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>奇淫巧技</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper bg-style-1"><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><a href="/sec/#安全" data-v-06225672>安全</a></li><li data-v-06225672><a href="/sec/#安全开发" data-v-06225672>安全开发</a></li><li data-v-06225672><a href="/sec/#Python" data-v-06225672>Python</a></li></ul> <div class="info" data-v-06225672><div title="作者" class="author iconfont icon-touxiang" data-v-06225672><a href="https://wiki.pwddd.com" target="_blank" title="作者" class="beLink" data-v-06225672>p0jo</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2022-03-25</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABGpJREFUSA3tVVtoXFUU3fvOI53UlmCaKIFmwEhsE7QK0ipFEdHEKpXaZGrp15SINsXUWvBDpBgQRKi0+KKoFeJHfZA+ED9KKoIU2gYD9UejTW4rVIzm0VSTziPzuNu1z507dibTTjL4U/DAzLn3nL3X2o91ziX6f9wMFdh6Jvbm9nNSV0msViVO6tN1Rm7NMu2OpeJ9lWBUTDxrJbYTS0hInuwciu9eLHlFxCLCZEk3MegsJmZ5K/JD6t7FkFdEvGUo1g7qJoG3MHImqRIn8/nzY1K9UPKKiJmtnUqHVE3Gbuay6vJE/N2FEmuxFjW2nUuE0yQXRRxLiTUAzs36zhZvOXJPdX850EVnnLZkB8prodQoM5JGj7Xk2mvC7JB8tG04Ef5PiXtG0UtxupRQSfTnBoCy554x18yJHI6I+G5Eru4LHmPJZEQsrvPUbMiA8G/WgMK7w7I+ez7++o2ANfbrjvaOl1tFMs+htG3IrZH9/hDX1Pr8Tc0UvH8tcX29KzAgIGcEkINyW5BF9x891hw6VYqgJHEk0huccS7vh3C6gTiODL+26huuBtbct8eZnqLML8PkxGYpuPZBqtqwkSjgc4mB5gbgig5i+y0UDK35LMxXisn9xQtK+nd26gTIHsHe/oblK/b29fUmN/8Y+9jAQrnBp56m1LcDlDp9irKTExSKduXJVWSqdBMA08pEJnEIOB3FPPMybu/oeV8zFeYN3xx576Q6RH+VmplE4ncQV5v+5rzSoyOU7PuEAg8g803PwBJ0CExno/jcMbN8tONYeOmHiuUNryvm3fRUy4tMPVLdAGkUhNWuggGrJcXPv+ouCjz0MKUHz1J2/E8IC9nqTabcxgaBYM0hPhD5Y65FsbxRQKxCQrDjDctW7PUM3HuZunFyifSAqEfuzCp48Il24luWUWZoyJCaPR82jE0+kFA643wRFVni4RYSq3ohJO2pZ7B5dO4xkDWbEpossJPLSrPjYID8rS2UHTlvyNxqIGsg674XJJ7vnh5L7PNwC4hh2sjCI96mzszOTpxLF0T7l88Yz7lAuK6OnL8gXLOnTvpzSb22YG8W7us3jSebFHeeqnXRG1vt+MoUM84LQIBmMsCTAcOauTh0T0l0neQK7m2bLMt2mGxU3HYssS0J2cdv5wljlPsrIuZLAG/2DOZIXgCYT8uMGZN+e2kSirfxZOPCsC0f24nTZzspnVn9VePS1Z5vubmAGGXG8ZFno9Hel0yfA5ZPhF7Dh972BQJ2qCpgH67lmWtBYbvk6sz02wjky2vXyz0XErP/kFB619js1BtwfOV4OPRqOQBjy3Qbk18vigUPPSD5ceHnwck7W9bhAqZdd7SuG7w4/P2F/GaJh8c7e9qgow+Q7cGBo+98WsLkuktFqiZabtXuQTu/Y5ETbR0v7tNSFnvrmu6pjdoan2KjMu8q/Hmj1EfCO2ZGfEIbIXKUlw8qaX9/b2oeSJmFksSeT/Fn0V3nSypChh4Gjh74ybO9aeZ/AN2dwciu2/MhAAAAAElFTkSuQmCC">Python面向对象的那些事<!----></h1>  <div class="theme-vdoing-content content__default"><h1 id="python面向对象的那些事"><a href="#python面向对象的那些事" class="header-anchor">#</a> Python面向对象的那些事</h1> <blockquote><p>Python是一门支持面向对象的高级程序设计语言。面向对象和面向过程的程序设计语言不同，面向对象更像是搭积木，将一块一块现有的功能组合调用完成我们的任务。而面向过程需要我们去思考每一步应该怎么去做。这一篇我们一起来看看Python中的面向对象的相关知识。</p></blockquote> <h2 id="面向对象简介"><a href="#面向对象简介" class="header-anchor">#</a> 面向对象简介</h2> <p>Python是一门完全采用了面向对象思想设计的高级语言，可以完全支持面向对象中的基本功能，比如：继承、封装、多态等。在Python中一切都是对象，包括我们前面提到过的数据类型、函数等。</p> <p>面向对象和面向过程不同的是：面向过程更加关注程序的执行流程和逻辑，面向过程更加关注的是软件对象之间的关系，是一种典型的设计者的思维。</p> <h2 id="类"><a href="#类" class="header-anchor">#</a> 类</h2> <p>类是什么？简单来说，类是一些具有相同特征事物的抽象，比如一堆饼干，类就是造饼干的磨具。</p> <p>我们通过类来定义数据类型的属性和方法，类可以将行为和状态放到一起。而对象就是一个类的实例，可以看作是饼干。一个类创建对象时，会共享类中定义的方法，但是不会共享类中的数据。</p> <p>Python中一切都是对象，因此类也是对象，类称为类对象，类的实例称为实例对象。</p> <p>怎么定义一个类？定义一个类有如下的几个要求：</p> <ol><li>类名称要符合标识符的定义规则，首字母大写，使用驼峰命名原则</li> <li>类中可以定义属性和方法</li> <li>类中的属性用于描述数据，方法用于描述数据相关的一些操作。</li></ol> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Student</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>name<span class="token punctuation">,</span>score<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name
        self<span class="token punctuation">.</span>score <span class="token operator">=</span> score

    <span class="token keyword">def</span> <span class="token function">say_score</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>name<span class="token punctuation">,</span><span class="token string">'分数是：'</span><span class="token punctuation">,</span>self<span class="token punctuation">.</span>score<span class="token punctuation">)</span>


s1 <span class="token operator">=</span> Student<span class="token punctuation">(</span><span class="token string">&quot;zhangsan&quot;</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span>
s1<span class="token punctuation">.</span>say_score<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># zhangsan 分数是： 20</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="init-构造方法和-new-方法"><a href="#init-构造方法和-new-方法" class="header-anchor">#</a> <code>__init__</code>构造方法和<code>__new__</code>方法</h3> <p>类是抽象的，类是对象的模版，我们可以通过类模版创建出类的实例对象，然后调用实例对象的相关功能。一个Python的对象包含如下的几个部分：</p> <ol><li>id identity识别码</li> <li>type 对象的类型</li> <li>value 对象的值
<ol><li>属性 attribute</li> <li>方法 method</li></ol></li></ol> <p>在创建一个类时，我们需要定义一个构造方法，<code>__init__</code>，该方法类似于Java中的和类同名的方法，用于实例对象的初始化。在创建对象后，执行该方法，初始化对象的相关属性。</p> <p><code>__init__</code>方法的相关要点：</p> <ol><li>名称固定。</li> <li>第一个参数固定为self。self指的是刚刚创建的对象</li> <li>构造函数通常用来初始化实例对象的实例属性</li> <li>通过<code>类名(形参列表)</code>调用构造函数，调用完成之后，会将创建好的对象返回给相关的变量</li></ol> <p><code>__init__</code>方法和<code>__new__</code>方法的区别：</p> <ul><li>init方法用于初始化创建好的对象，初始化是指给对象的实例属性赋值</li> <li>new方法用于创建对象，我们无需定义该方法</li> <li>如果不定义init方法，则和Java一样，默认会提供一个默认的无参数init方法，如果定义了带参数的init方法，则系统不创建默认的init方法</li></ul> <p>在Python中，self相当于java中的this，self必须为构造函数的第一个参数，名字一般都是self。</p> <h3 id="实例属性和实例方法"><a href="#实例属性和实例方法" class="header-anchor">#</a> 实例属性和实例方法</h3> <h4 id="实例属性"><a href="#实例属性" class="header-anchor">#</a> 实例属性</h4> <p>实例属性是从属于实例对象的属性，也称为实例变量。实例属性一般在init方法中进行初始化，可以通过self.实例属性名访问实例属性，在创建实例对象之后，可以通过对象名.实例属性名。也可以新添加属性。</p> <h4 id="实例方法"><a href="#实例方法" class="header-anchor">#</a> 实例方法</h4> <p>实例方法是从属于实例对象的方法，实例方法定义时，第一个参数必须为self，后面的为形参列表。在调用实例方法时，不需要也不能给self传递参数，self由解释器自动传递参数。方法的定义格式如下所示：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">def</span> <span class="token function">say_score</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>abc<span class="token punctuation">)</span><span class="token punctuation">:</span>
  <span class="token keyword">print</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>name<span class="token punctuation">,</span><span class="token string">'分数是：'</span><span class="token punctuation">,</span>self<span class="token punctuation">.</span>score<span class="token punctuation">)</span>
  <span class="token keyword">print</span><span class="token punctuation">(</span>abc<span class="token punctuation">)</span>
<span class="token comment"># 调用方式</span>
  s1 <span class="token operator">=</span> Student<span class="token punctuation">(</span><span class="token string">&quot;zhangsan&quot;</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span>
  s1<span class="token punctuation">.</span>say_score<span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span> <span class="token comment"># zhangsan 分数是： 20 123</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>方法和函数有什么区别？</p> <ul><li>方法和函数都是用来完成特定功能的代码块</li> <li>方法通过对象来调用，从属于一个实例对象，而函数不一样</li> <li>方法定义是需要传递self参数，函数不需要。</li></ul> <p>一些常见的操作：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Student</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>name<span class="token punctuation">,</span>age<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name
        self<span class="token punctuation">.</span>age <span class="token operator">=</span> age

    <span class="token keyword">def</span> <span class="token function">say_hello</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>name<span class="token punctuation">,</span><span class="token string">'hello'</span><span class="token punctuation">)</span>

<span class="token comment"># 获取对象的所有属性和方法</span>
s <span class="token operator">=</span> Student<span class="token punctuation">(</span><span class="token string">&quot;zhangsan&quot;</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">dir</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># ['__class__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__sizeof__', '__str__', '__subclasshook__', '__weakref__', 'age', 'name', 'say_hello']</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span>__dict__<span class="token punctuation">)</span> <span class="token comment"># {'name': 'zhangsan', 'age': 12}</span>

<span class="token keyword">pass</span> <span class="token comment"># 空语句</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">isinstance</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> Student<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># True  判断对象是不是为某种类型</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h3 id="类对象、类属性、类方法、静态方法"><a href="#类对象、类属性、类方法、静态方法" class="header-anchor">#</a> 类对象、类属性、类方法、静态方法</h3> <h4 id="类对象"><a href="#类对象" class="header-anchor">#</a> 类对象</h4> <p>Python中一切都是对象，类也是，称为类对象，使用class关键字定义。</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Student</span><span class="token punctuation">:</span>
    <span class="token keyword">pass</span>

s <span class="token operator">=</span> Student<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span>Student<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># &lt;class 'type'&gt;</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span>Student<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># &lt;class '__main__.Student'&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h4 id="类属性"><a href="#类属性" class="header-anchor">#</a> 类属性</h4> <p>类属性是从属于类对象的属性，也称为类变量，因为从属于类对象，因此可以被所有的实例对象共享。</p> <p>类属性的定义方式：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Student</span><span class="token punctuation">:</span>
    name <span class="token operator">=</span> <span class="token string">&quot;zhansgan&quot;</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>Student<span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token comment"># zhansgan</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>可以通过类名.类变量的方式访问。</p> <h4 id="类方法"><a href="#类方法" class="header-anchor">#</a> 类方法</h4> <p>类方法是从属于类对象的方法，使用@classmethod定义。第一个cls参数必须要传递，代表的是类对象的本身。调用类方法的方式是：类名.类方法名(参数列表)。参数列表中，不需要传递cls值。类方法中访问实例属性和实例方法导致错误，子类继承父类方法时，传入cls时子类对象，而并非是类对象。</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Student</span><span class="token punctuation">:</span>
    company <span class="token operator">=</span> <span class="token string">&quot;hello&quot;</span>

    <span class="token decorator annotation punctuation">@classmethod</span>
    <span class="token keyword">def</span> <span class="token function">printConpany</span><span class="token punctuation">(</span>cls<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>cls<span class="token punctuation">.</span>company<span class="token punctuation">)</span>

Student<span class="token punctuation">.</span>printConpany<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># hello</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h4 id="静态方法"><a href="#静态方法" class="header-anchor">#</a> 静态方法</h4> <p>Python中允许定义和类对象无关的方法，称为静态方法。静态方法和普通函数没有区别，只不过静态方法放到了类的名字空间里面，需要通过类来调用。静态方法的调用格式为：类名.静态方法名(参数列表)。静态方法中访问实例属性和实例方法会报错。</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Student</span><span class="token punctuation">:</span>
    company <span class="token operator">=</span> <span class="token string">&quot;xxx&quot;</span>

    <span class="token decorator annotation punctuation">@staticmethod</span>
    <span class="token keyword">def</span> <span class="token function">add</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;{0}+{1}={2}&quot;</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>a<span class="token operator">+</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> a<span class="token operator">+</span>b

Student<span class="token punctuation">.</span>add<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment"># 1+2=3</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="del-方法和垃圾回收"><a href="#del-方法和垃圾回收" class="header-anchor">#</a> <code>__del__</code>方法和垃圾回收</h3> <p><code>__del__</code>方法称为析构方法，用于实现对象销毁时所需要的操作。比如释放对象资源等等。Python可以实现自动的垃圾回收机制，当对象没有被引用时，由垃圾回收器调用<code>__del——_</code>方法。我们可以使用del删除对象，调用<code>__del__</code>方法。</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__del__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;销毁对象：{0}&quot;</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">)</span>

p1 <span class="token operator">=</span> Person<span class="token punctuation">(</span><span class="token punctuation">)</span>
p2 <span class="token operator">=</span> Person<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">del</span> p2
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;----&quot;</span><span class="token punctuation">)</span>

<span class="token triple-quoted-string string">&quot;&quot;&quot;
销毁对象：&lt;__main__.Person object at 0x7fd23000b5e0&gt;
----
销毁对象：&lt;__main__.Person object at 0x7fd23000be80&gt;
&quot;&quot;&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="call-方法和可调用对象"><a href="#call-方法和可调用对象" class="header-anchor">#</a> <code>__call__</code>方法和可调用对象</h3> <p>实现了<code>__call__</code>方法的对象称为可调用对象，即该对象可以被像函数一样调用。</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">CalcUtil</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__call__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;{0}+{1}={2}&quot;</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>a<span class="token operator">+</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span>

s <span class="token operator">=</span> CalcUtil<span class="token punctuation">(</span><span class="token punctuation">)</span>
s<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment"># 1+2=3</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="方法重载"><a href="#方法重载" class="header-anchor">#</a> 方法重载</h3> <p>在Python中方法没有重载，其他语言中，可以定义多个同名的方法，只要保证方法的签名唯一即可。方法的签名包含方法名，参数数量和参数类型。</p> <p>Python中，方法的参数没有声明参数类型，参数的数量也可以由可变参数控制。因此Python中不存在方法重载。如果在类中定义了多个同名方法，只有最后一个方法是有效的。</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">say</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;hello1&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">def</span> <span class="token function">say</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;hello2&quot;</span><span class="token punctuation">)</span>

p1 <span class="token operator">=</span> Person<span class="token punctuation">(</span><span class="token punctuation">)</span>
p1<span class="token punctuation">.</span>say<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># hello2</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="方法的动态性"><a href="#方法的动态性" class="header-anchor">#</a> 方法的动态性</h3> <p>Python是一种动态语言，我们可以给类添加新的方法，或者动态的修改类现有的一些方法。</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">work</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;shangban&quot;</span><span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">play</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;play&quot;</span><span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">work2</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;work2&quot;</span><span class="token punctuation">)</span>

Person<span class="token punctuation">.</span>play_game <span class="token operator">=</span> play
Person<span class="token punctuation">.</span>work <span class="token operator">=</span> work2

p <span class="token operator">=</span> Person<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">dir</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">)</span>

p<span class="token punctuation">.</span>play_game<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># play</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h3 id="私有属性和私有方法"><a href="#私有属性和私有方法" class="header-anchor">#</a> 私有属性和私有方法</h3> <p>Python对于类的成员没有严格访问的控制限制，这和其他的面向独享的语言有所区别。通常情况下我们约定两个下划线开头的属性是私有属性，其他的为公共的。类内部可以访问私有属性，类外部不能直接访问私有的属性。类外部可以通过<code>_类名__私有属性名</code>访问私有属性或者方法。</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Employee</span><span class="token punctuation">:</span>
    __company <span class="token operator">=</span> <span class="token string">&quot;aaa&quot;</span>

    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>name<span class="token punctuation">,</span>age<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name
        self<span class="token punctuation">.</span>__age <span class="token operator">=</span> age
    <span class="token keyword">def</span> <span class="token function">say_company</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;我的公司是：&quot;</span><span class="token punctuation">,</span>Employee<span class="token punctuation">.</span>__company<span class="token punctuation">)</span> <span class="token comment"># 我的公司是： aaa</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>name<span class="token punctuation">,</span><span class="token string">&quot;的年龄是&quot;</span><span class="token punctuation">,</span>self<span class="token punctuation">.</span>__age<span class="token punctuation">)</span> <span class="token comment"># zhangsan 的年龄是 12</span>
        self<span class="token punctuation">.</span>__work<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">__work</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;work&quot;</span><span class="token punctuation">)</span> <span class="token comment"># work</span>

e1 <span class="token operator">=</span> Employee<span class="token punctuation">(</span><span class="token string">&quot;zhangsan&quot;</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>e1<span class="token punctuation">.</span>name<span class="token punctuation">)</span>  <span class="token comment"># zhangsan</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>e1<span class="token punctuation">.</span>_Employee__age<span class="token punctuation">)</span> <span class="token comment"># 12</span>
e1<span class="token punctuation">.</span>say_company<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h3 id="property装饰器"><a href="#property装饰器" class="header-anchor">#</a> @property装饰器</h3> <p>@property可以将一个方法的调用变为对属性的调用。</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Employee</span><span class="token punctuation">:</span>

    <span class="token decorator annotation punctuation">@property</span>
    <span class="token keyword">def</span> <span class="token function">salary</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token number">2000</span>

emp <span class="token operator">=</span> Employee<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>emp<span class="token punctuation">.</span>salary<span class="token punctuation">)</span> <span class="token comment"># 2000</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span>emp<span class="token punctuation">.</span>salary<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># &lt;class 'int'&gt;</span>

<span class="token comment"># emp.salary() # TypeError: 'int' object is not callable</span>

emp<span class="token punctuation">.</span><span class="token comment">#salary = 200 # AttributeError: can't set attribute 'salary'</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>@property用于帮助我们处理属性的读写操作，对于属性我们可以直接赋值的方式读写，但是对于一些数据，有一些范围的限制，必须通过setget方法来进行写入和读取。</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Employee</span><span class="token punctuation">:</span>

    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>__salary <span class="token operator">=</span> <span class="token number">0</span>

    <span class="token decorator annotation punctuation">@property</span>
    <span class="token keyword">def</span> <span class="token function">salary</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>__salary

    <span class="token decorator annotation punctuation">@salary<span class="token punctuation">.</span>setter</span>
    <span class="token keyword">def</span> <span class="token function">salary</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>salary<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token operator">&lt;</span>salary<span class="token operator">&lt;</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>__salary <span class="token operator">=</span> salary
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;数据异常&quot;</span><span class="token punctuation">)</span>

emp <span class="token operator">=</span> Employee<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>emp<span class="token punctuation">.</span>salary<span class="token punctuation">)</span>
emp<span class="token punctuation">.</span>salary <span class="token operator">=</span> <span class="token number">200</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>emp<span class="token punctuation">.</span>salary<span class="token punctuation">)</span> <span class="token comment"># 200</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h2 id="面向对象的三大特征"><a href="#面向对象的三大特征" class="header-anchor">#</a> 面向对象的三大特征</h2> <p>Python是面向对象的语言，支持面向对象的三大特征，分别是封装继承和多态。</p> <ul><li>封装是隐藏对象的属性和实现的具体细节，只对外提供必要的方法，相当于将细节封装起来，只对外暴露相关的调用方法。</li> <li>继承可以让子类具有父类的特性，可以提高代码的重用性</li> <li>多态指的是同一个方法调用因为不同的对象会产生不同的行为。</li></ul> <h3 id="继承"><a href="#继承" class="header-anchor">#</a> 继承</h3> <p>继承是面向对象的一个重要特性，也是实现代码复用的重要的手段。Python中可以实现多重继承，一个子类可以继承多个父类，如果在类定义中没有指定父类，则默认是继承Object类，Objec类是所有的类的父类。定义子类时必须在构造函数中调用父类的构造函数，调用方式如下：<code>父类名.__init___(self,参数列表)</code></p> <p>示例代码：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>name<span class="token punctuation">,</span>age<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name
        self<span class="token punctuation">.</span>age <span class="token operator">=</span> age
    <span class="token keyword">def</span> <span class="token function">say_hello</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;hello,&quot;</span><span class="token punctuation">,</span>self<span class="token punctuation">.</span>name<span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">Student</span><span class="token punctuation">(</span>Person<span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>name<span class="token punctuation">,</span>age<span class="token punctuation">,</span>class_id<span class="token punctuation">,</span>score<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>class_id <span class="token operator">=</span> class_id
        self<span class="token punctuation">.</span>score <span class="token operator">=</span> score
        Person<span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>self<span class="token punctuation">,</span>name<span class="token punctuation">,</span>age<span class="token punctuation">)</span>

s1 <span class="token operator">=</span> Student<span class="token punctuation">(</span><span class="token string">&quot;zhangsan&quot;</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span>
s1<span class="token punctuation">.</span>say_hello<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># hello, zhangsan</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">dir</span><span class="token punctuation">(</span>s1<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>s1<span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token comment"># zhangsan</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h4 id="类成员的继承和重写"><a href="#类成员的继承和重写" class="header-anchor">#</a> 类成员的继承和重写</h4> <ol><li>成员继承，子类可以继承父类除了构造方法以外的所有成员。</li> <li>方法重写，子类可以重新定义父类中的方法，覆盖掉原本的父类方法，称为重写。</li></ol> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>name<span class="token punctuation">,</span>age<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name
        self<span class="token punctuation">.</span>age <span class="token operator">=</span> age
    <span class="token keyword">def</span> <span class="token function">say_hello</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;hello,&quot;</span><span class="token punctuation">,</span>self<span class="token punctuation">.</span>name<span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">Student</span><span class="token punctuation">(</span>Person<span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>name<span class="token punctuation">,</span>age<span class="token punctuation">,</span>class_id<span class="token punctuation">,</span>score<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>class_id <span class="token operator">=</span> class_id
        self<span class="token punctuation">.</span>score <span class="token operator">=</span> score
        Person<span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>self<span class="token punctuation">,</span>name<span class="token punctuation">,</span>age<span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">say_hello</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;i am a student&quot;</span><span class="token punctuation">)</span>

s1 <span class="token operator">=</span> Student<span class="token punctuation">(</span><span class="token string">&quot;zhangsan&quot;</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span>
s1<span class="token punctuation">.</span>say_hello<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># i am a student</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h4 id="查看类的层次结构"><a href="#查看类的层次结构" class="header-anchor">#</a> 查看类的层次结构</h4> <p>可以通过类方法mro() 或者类属性<code>__mro__</code>输出类的层次结构</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>name<span class="token punctuation">,</span>age<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name
        self<span class="token punctuation">.</span>age <span class="token operator">=</span> age
    <span class="token keyword">def</span> <span class="token function">say_hello</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;hello,&quot;</span><span class="token punctuation">,</span>self<span class="token punctuation">.</span>name<span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">Student</span><span class="token punctuation">(</span>Person<span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>name<span class="token punctuation">,</span>age<span class="token punctuation">,</span>class_id<span class="token punctuation">,</span>score<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>class_id <span class="token operator">=</span> class_id
        self<span class="token punctuation">.</span>score <span class="token operator">=</span> score
        Person<span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>self<span class="token punctuation">,</span>name<span class="token punctuation">,</span>age<span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">say_hello</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;i am a student&quot;</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>Student<span class="token punctuation">.</span>mro<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># [&lt;class '__main__.Student'&gt;, &lt;class '__main__.Person'&gt;, &lt;class 'object'&gt;]</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>Student<span class="token punctuation">.</span>__mro__<span class="token punctuation">)</span> <span class="token comment"># (&lt;class '__main__.Student'&gt;, &lt;class '__main__.Person'&gt;, &lt;class 'object'&gt;)</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h4 id="object类"><a href="#object类" class="header-anchor">#</a> Object类</h4> <p>object类是所有类的父类，object中的方法在每个类中都存在。</p> <p>可以通过dir()来查看对象的属性，我们可以通过dir函数，产看置顶对象中的所有属性。</p> <p>在object中有一个<code>__str__()</code>方法，该方法用于返回一个对象的信息。类似于java中的toString方法。</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__str__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;person&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token string">&quot;i am a person&quot;</span>

p <span class="token operator">=</span> Person<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span> <span class="token comment"># i am a person</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h4 id="多重继承"><a href="#多重继承" class="header-anchor">#</a> 多重继承</h4> <p>和Java不一样，Python是支持多重继承的，因此一个子类可以有多个直接的父类。但是这样的继承方式往往太复杂，应该尽量的避免使用。</p> <h4 id="mro"><a href="#mro" class="header-anchor">#</a> mro()</h4> <p>python中支持多重继承，如果父类中有相同名字的方法，在子类中没有指定父类名时，默认按照从做向右的顺序搜索。MRO(Method Resolution Order)：方法的解析顺序。</p> <h4 id="super-获得父类定义"><a href="#super-获得父类定义" class="header-anchor">#</a> super() 获得父类定义</h4> <p>在子类中，如果想要获得某个父类的方法时，我们可以通过super来调用，super代表的是父类的定义，而不是父类的对象。</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__str__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;person&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token string">&quot;i am a person&quot;</span>
    <span class="token keyword">def</span> <span class="token function">say</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;say&quot;</span><span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">Student</span><span class="token punctuation">(</span>Person<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">say</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;student&quot;</span><span class="token punctuation">)</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>say<span class="token punctuation">(</span><span class="token punctuation">)</span>

s1 <span class="token operator">=</span> Student<span class="token punctuation">(</span><span class="token punctuation">)</span>
s1<span class="token punctuation">.</span>say<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># student say</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="多态"><a href="#多态" class="header-anchor">#</a> 多态</h3> <p>多态指的是同一个方法因为不通的对象调用所产生的不同的行为。多态是方法的多态，对于属性并没有多态，多态有两个重要的条件，一个是继承，一个是方法的重写。</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Animal</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">shout</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;animal shout&quot;</span><span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">Dog</span><span class="token punctuation">(</span>Animal<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">shout</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;wang wang&quot;</span><span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">Cat</span><span class="token punctuation">(</span>Animal<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">shout</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;miaomiao&quot;</span><span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">animalShot</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>Animal<span class="token punctuation">)</span><span class="token punctuation">:</span>
        a<span class="token punctuation">.</span>shout<span class="token punctuation">(</span><span class="token punctuation">)</span>

animalShot<span class="token punctuation">(</span>Cat<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># miaomiao</span>
animalShot<span class="token punctuation">(</span>Dog<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># wang wang </span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h4 id="特殊方法和运算符重载"><a href="#特殊方法和运算符重载" class="header-anchor">#</a> 特殊方法和运算符重载</h4> <p>Python中的运算符实际上都是通过调用对象的特殊方法实现的。</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>a <span class="token operator">=</span> <span class="token number">10</span>
b <span class="token operator">=</span> <span class="token number">20</span>
c <span class="token operator">=</span> a<span class="token operator">+</span>b
d <span class="token operator">=</span> a<span class="token punctuation">.</span>__add__<span class="token punctuation">(</span>b<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token comment"># 30</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span> <span class="token comment"># 30</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>Python一些特殊的方法：</p> <table><thead><tr><th>方法</th> <th>说明</th> <th>例子</th></tr></thead> <tbody><tr><td><code>__init__</code></td> <td>构造方法</td> <td>对象创建：p = Person()</td></tr> <tr><td><code>__del__</code></td> <td>析构方法</td> <td>对象回收</td></tr> <tr><td><code>__repr__,__str__</code></td> <td>打印，转换</td> <td>print(a)</td></tr> <tr><td><code>__call__</code></td> <td>函数调用</td> <td>a()</td></tr> <tr><td><code>__getattr__</code></td> <td>点号运算</td> <td>a.xxx</td></tr> <tr><td><code>__setattr__</code></td> <td>属性赋值</td> <td>a.xxx = value</td></tr> <tr><td><code>__getitem__</code></td> <td>索引运算</td> <td>a[key]</td></tr> <tr><td><code>__setitem__</code></td> <td>索引赋值</td> <td>a[key]=value</td></tr> <tr><td><code>__len__</code></td> <td>长度</td> <td>len(a)</td></tr></tbody></table> <p>运算符所对应的特殊的方法如下：</p> <table><thead><tr><th>运算符</th> <th>特殊方法</th> <th>说明</th></tr></thead> <tbody><tr><td>运算符+</td> <td><code>__add__</code></td> <td>加法</td></tr> <tr><td>运算符-</td> <td><code>__sub__</code></td> <td>减法</td></tr> <tr><td>&lt;,&lt;=,==</td> <td><code>__lt__</code>,<code>__le__</code>，<code>__eq__</code></td> <td>比较运算符</td></tr> <tr><td>&gt;,&gt;=,!=</td> <td><code>__gt__</code>,<code>__ge__</code>,<code>__ne__</code></td> <td></td></tr> <tr><td>|,^,&amp;</td> <td><code>__or__</code>,<code>__xor__</code>,<code>__and__</code></td> <td>或、异或、与</td></tr> <tr><td>&lt;&lt;,&gt;&gt;</td> <td><code>__lshift__</code>,<code>__rshift__</code></td> <td>左移、右移</td></tr> <tr><td>*,/,%,//</td> <td><code>__mul__</code>,<code>__truediv__</code>,<code>__mod__</code>,<code>__floordiv__</code></td> <td>乘、浮点除、模运算 （取余）、整数除</td></tr> <tr><td>**</td> <td><code>__pow__</code></td> <td>指数运算</td></tr></tbody></table> <p>我们可以重写以上的方法实现方法的重载：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>name<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name

    <span class="token keyword">def</span> <span class="token function">__add__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> other<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>other<span class="token punctuation">,</span>Person<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token string">&quot;{0} -- {1} &quot;</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>name<span class="token punctuation">,</span>other<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token string">&quot;error&quot;</span>

s1 <span class="token operator">=</span> Person<span class="token punctuation">(</span><span class="token string">&quot;zhangsan&quot;</span><span class="token punctuation">)</span>
s2 <span class="token operator">=</span> Person<span class="token punctuation">(</span><span class="token string">&quot;lisi&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>s1 <span class="token operator">+</span> s2<span class="token punctuation">)</span> <span class="token comment"># zhangsan -- lisi </span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h4 id="特殊的属性"><a href="#特殊的属性" class="header-anchor">#</a> 特殊的属性</h4> <p>Python中对象包含了很多以下划线开始和结束的属性，这些特殊属性常见的如下：</p> <table><thead><tr><th>特殊方法</th> <th>含义</th></tr></thead> <tbody><tr><td><code>obj.__dict__</code></td> <td>对象的属性字典</td></tr> <tr><td><code>obj.__class__</code></td> <td>对象所属的类</td></tr> <tr><td><code>class.__bases__</code></td> <td>类的基类元组（多继承）</td></tr> <tr><td><code>class.__base__</code></td> <td>类的基类</td></tr> <tr><td><code>class.__mro__</code></td> <td>类层次结构</td></tr> <tr><td><code>class.__subclasses__()</code></td> <td>子类列表</td></tr></tbody></table> <h4 id="对象的深浅拷贝"><a href="#对象的深浅拷贝" class="header-anchor">#</a> 对象的深浅拷贝</h4> <p>在上面我们其实已经提到对象的深浅拷贝的问题，浅拷贝时对象包含的子对象不会被拷贝，深拷贝则拷贝子对象。python中使用<code>copy.copy()</code>实现浅拷贝，使用<code>copy.deepcopy()</code>实现深拷贝。</p></div></div>  <div class="page-edit"><!----> <div class="tags"><a href="/tags/?tag=Python" title="标签">#Python</a></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2022/04/03, 12:13:15</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/sec/dev/python/func/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">Python函数的小秘密</div></a> <a href="/sec/dev/python/exception/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">Python异常处理的那些事</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/sec/dev/python/func/" class="prev">Python函数的小秘密</a></span> <span class="next"><a href="/sec/dev/python/exception/">Python异常处理的那些事</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/sec/vuln/deserialization/serialization/"><div>
            反序列化漏洞原理 - 反序列化
            <span class="title-tag">
              原创
            </span></div></a> <span class="date">05-25</span></dt></dl><dl><dd>02</dd> <dt><a href="/more/blog/privatepage/"><div>
            私密文章测试
            <!----></div></a> <span class="date">05-14</span></dt></dl><dl><dd>03</dd> <dt><a href="/dev/basic/ds/list/"><div>
            【数据结构】线性表
            <!----></div></a> <span class="date">05-06</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="mailto:p0josec@gmail.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/p0josec" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://music.163.com/#/playlist?id=755597173" title="听音乐" target="_blank" class="iconfont icon-erji"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2022-2022
    <span>Vuepress-theme-Vdoing | <a href="https://github.com/xugaoyi/vuepress-theme-vdoing/blob/master/LICENSE" target="_blank">MIT License</a></span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <div class="body-bg" style="background:url() center center / cover no-repeat;opacity:0.5;"></div> <!----> <!----></div><div class="global-ui"><!----><div></div></div></div>
    <script src="/assets/js/app.cc096181.js" defer></script><script src="/assets/js/2.5dee0ed7.js" defer></script><script src="/assets/js/52.4bdda958.js" defer></script>
  </body>
</html>
